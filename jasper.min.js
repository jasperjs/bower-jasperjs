var jasper;!function(jasper){var core;!function(core){var UtilityService=function(){function UtilityService(){}return UtilityService.prototype.getComponentControllers=function(a,b){var c,d;return b.require&&angular.isArray(b.require)?(d=a.shift(),c=a,1===c.length&&(c=c[0])):(d=a,c=d),{main:d,controllersToPass:c}},UtilityService.prototype.getFactoryOf=function(component){if(angular.isString(component)){var result;try{result=eval(component)}catch(e){throw'Factory defined as "'+component+'" not found'}return result}if(angular.isFunction(component))return component;throw"Unknown component definition "+component},UtilityService.prototype.snakeCase=function(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})},UtilityService.prototype.camelCase=function(a){var b=/[A-Z]/g;return a.replace(b,function(a,b){return b?a:a.toLowerCase()})},UtilityService.prototype.camelCaseTagName=function(a){return a.indexOf("-")<0?this.camelCase(a):a.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()})},UtilityService}();core.UtilityService=UtilityService}(core=jasper.core||(jasper.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function b(b){this.directive=b.directive,this.utility=new a.UtilityService}return b.prototype.register=function(a){var b=this,c=this.createDirectiveFor(a);c.controller&&(c.compile=function(){return{pre:function(d,e,f,g){var h=b.utility.getComponentControllers(g,c);b.bindController(a,d,h.main,f),h.main.$$scope=d,h.main.initializeComponent&&angular.isFunction(h.main.initializeComponent)&&h.main.initializeComponent(),h.main.destroyComponent&&angular.isFunction(h.main.destroyComponent)&&d.$on("$destroy",function(){h.main.destroyComponent()})},post:function(a,d,e,f,g){var h=b.utility.getComponentControllers(f,c);h.main.link&&h.main.link(d[0],h.controllersToPass,g)}}}),this.directive(a.name,function(){return c})},b.prototype.bindController=function(a,b,c,d){if(a.attributes)for(var e=0;e<a.attributes.length;e++){var f=a.attributes[e].name,g=a.attributes[e].type||"data",h=this.utility.camelCaseTagName(f);if(angular.isDefined(d[h]))switch(g.toUpperCase()){case"DATA":this.bindChangeMethod(h,c,b);break;case"EXPR":break;case"TEXT":this.bindChangeMethod(h,c,b);break;default:throw"Unknown attribute type: "+g}}},b.prototype.bindChangeMethod=function(a,b,c){var d=a+"_change";b[d]&&angular.isFunction(b[d])&&c.$watch(function(){return b[a]},function(a,c){a!==c&&b[d](a,c)})},b.prototype.createDirectiveFor=function(a){var b={restrict:"E",scope:this.getScopeDefinition(a)},c=a.ctrl||a.ctor;return c&&(b.bindToController=!0,b.controller=this.utility.getFactoryOf(c),b.controllerAs="vm"),angular.isDefined(a.transclude)&&(b.transclude="true"===a.transclude?!0:a.transclude),angular.isDefined(a.templateUrl)&&(b.templateUrl=a.templateUrl),angular.isDefined(a.template)&&(b.template=a.template),b.require=this.getRequirementsForComponent(a),b},b.prototype.getScopeDefinition=function(a){var b={};if(!a.attributes)return b;for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];if(!d.name)throw"Attribute name not specified of: "+JSON.stringify(d);var e="=",f=d.type||"data";switch(f.toUpperCase()){case"EXPR":e="&";break;case"TEXT":e="@"}var g=this.utility.camelCaseTagName(d.name);b[g]=e}return b},b.prototype.getRequirementsForComponent=function(a){if(angular.isDefined(a.require)){var b=[a.name];return angular.isArray(a.require)?b=b.concat(a.require):b.push(a.require),b}return a.name},b}();a.HtmlComponentRegistrar=b}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function b(b){this.componentRegistar=new a.HtmlComponentRegistrar(b)}return b.prototype.register=function(a){this.componentRegistar.register(a)},b.prototype.$get=function(){return{}},b.$inject=["$compileProvider"],b}();a.ComponentProvider=b}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(b){var c=function(){function b(b){this.decoratorRegistar=new a.core.HtmlDecoratorRegistrar(b)}return b.prototype.register=function(a){this.decoratorRegistar.register(a)},b.prototype.$get=function(){return{}},b.$inject=["$compileProvider"],b}();b.DecoratorComponentProvider=c}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function b(b){this.directive=b.directive,this.utility=new a.UtilityService}return b.prototype.register=function(a){var b=this.createDirectiveFor(a);this.directive(a.name,function(){return b})},b.prototype.createDirectiveFor=function(a){var b=this,c={restrict:"A",scope:!1},d=a.ctrl||a.ctor;if(!d)throw new Error(a.name+" must specify constructor");return c.scope[a.name]="=",c.controller=this.utility.getFactoryOf(d),c.require=this.getRequirementsForComponent(a),c.link=function(d,e,f,g){var h=b.utility.getComponentControllers(g,c);h.main.$$scope=d;var i=f[a.name],j=angular.isDefined(a.eval)?a.eval:!0,k=void 0;angular.isDefined(i)&&(k=j?d.$eval(i):i),h.main.link&&h.main.link(k,e[0],f,h.controllersToPass),h.main.onValueChanged&&f[a.name]&&j&&d.$watch(i,function(a,b){h.main.onValueChanged(a,b)}),h.main.destroyComponent&&angular.isFunction(h.main.destroyComponent)&&e.on("$destroy",function(){h.main.destroyComponent()})},c},b.prototype.getRequirementsForComponent=function(a){if(angular.isDefined(a.require)){var b=[a.name];return angular.isArray(a.require)?b=b.concat(a.require):b.push(a.require),b}return a.name},b.prototype.getComponentControllers=function(a,b){var c,d;return b.require&&angular.isArray(b.require)?(d=a.shift(),c=a,1===c.length&&(c=c[0])):(d=a,c=d),{main:d,controllersToPass:c}},b}();a.HtmlDecoratorRegistrar=b}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function b(b){this.filterRegistar=new a.FilterRegistrar(b)}return b.prototype.register=function(a){this.filterRegistar.register(a)},b.prototype.$get=function(){return{}},b.$inject=["$filterProvider"],b}();a.FilterProvider=b}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function b(b){this.filter=b.register,this.utility=new a.UtilityService}return b.prototype.register=function(a){if(!a.ctor)throw new Error(a.name+" must specify constructor");var b=this.utility.getFactoryOf(a.ctor);this.filter(a.name,b)},b}();a.FilterRegistrar=b}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(b){var c=function(){function b(b){this.serviceRegistar=new a.core.ServiceRegistrar(b)}return b.prototype.register=function(a){this.serviceRegistar.register(a)},b.prototype.$get=function(){return{}},b.$inject=["$provide"],b}();b.ServiceProvider=c}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function b(b){this.service=b.service,this.utility=new a.UtilityService}return b.prototype.register=function(a){if(!a.ctor)throw new Error(a.name+" must specify constructor");var b=this.utility.getFactoryOf(a.ctor);this.service(a.name,b)},b}();a.ServiceRegistrar=b}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function a(a){this.provide=a}return a.prototype.register=function(a,b){this.provide.value(a,b)},a.prototype.$get=function(){return this},a.$inject=["$provide"],a}();a.ValueProvider=b}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function a(){this.events={}}return a.prototype.subscribe=function(a,b){var c=this;return this.events[a]||(this.events[a]={queue:[]}),this.events[a].queue.push(b),{remove:function(){c.removeSubscription(a,b)}}},a.prototype.broadcast=function(a){for(var b=this,c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];if(this.events[a]){var e=this.events[a].queue;e.forEach(function(a){a.apply(b,c)})}},a.prototype.removeSubscription=function(a,b){if(this.events[a])for(var c=this.events[a].queue,d=0;d<c.length;d++)if(c[d]===b){c.splice(d,1);break}},a}();a.GlobalEventsService=b}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function a(){}return a.prototype.$digest=function(){this.ensureScope(),this.$$scope.$digest()},a.prototype.$apply=function(){this.ensureScope(),this.$$scope.$apply()},a.prototype.$on=function(a,b){this.ensureScope(),this.$$scope.$on(a,b)},a.prototype.$watch=function(a,b,c){this.ensureScope(),this.$$scope.$watch(a,b,c)},a.prototype.$watchCollection=function(a,b){this.ensureScope(),this.$$scope.$watchCollection(a,b)},a.prototype.$watchGroup=function(a,b){this.ensureScope(),this.$$scope.$watchGroup(a,b)},a.prototype.ensureScope=function(){if(!this.$$scope)throw"$$scope not initialized"},a}();a.JasperComponent=b}(b=a.core||(a.core={}))}(jasper||(jasper={})),angular.module("jasperCore",["ng"]).provider("jasperComponent",jasper.core.ComponentProvider).provider("jasperDecorator",jasper.core.DecoratorComponentProvider).provider("jasperService",jasper.core.ServiceProvider).provider("jasperFilter",jasper.core.FilterProvider).provider("jasperValue",jasper.core.ValueProvider).service("$globalEvents",jasper.core.GlobalEventsService);var jasper;!function(a){var b;!function(a){var b=function(){function a(a,b,c){var d="ng-hide app-module-loading",e={priority:1e3,terminal:!0,restrict:"A",compile:function(e){return e.addClass(d),e.removeAttr("data-jasper-module").removeAttr("jasper-area"),{pre:function(e,f,g){for(var h=g.jasperArea,i=h.split(","),j=[],k=0;k<i.length;k++)j.push(b.loadAreas(i[k]));c.all(j).then(function(){var b=f.data("$compileresult");b?f.removeClass(d):(f.removeAttr("data-jasper-module").removeAttr("jasper-area"),f.removeClass(d),b=a(f),f.data("$compileresult",b)),b(e)})}}}};return e}return a.$inject=["$compile","jasperAreasService","$q"],a}();a.JasperAreaDirective=b}(b=a.areas||(a.areas={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function a(a){this.name=a,this.defers=[]}return a}(),c=function(){function a(a){this.q=a,this.loadingAreas=[],this.initAreas=[]}return a.prototype.isLoading=function(a){return null!=this.getLoadingAreaByName(a)},a.prototype.startLoading=function(a){if(this.isLoading(a))throw a+" allready loading";var c=new b(a);this.loadingAreas.push(c)},a.prototype.addInitializer=function(a){if(!this.isLoading(a))throw a+" does not loading";var c=this.q.defer(),d=this.getInitDefersByName(a);if(d)d.defers.push(c);else{var e=new b(a);e.defers.push(c),this.initAreas.push(e)}return c.promise},a.prototype.onAreaLoaded=function(a){var b=this.getLoadingAreaByName(a);if(null==b)throw a+" not loading";var c=this.q.defer();return b.defers.push(c),c.promise},a.prototype.notifyOnLoaded=function(a){var b=this.getLoadingAreaByName(a);if(null==b)throw a+" not loading";this.resolveInitializers(a);for(var c=0;c<b.defers.length;c++)b.defers[c].resolve();var d=this.loadingAreas.indexOf(b);d>-1&&this.loadingAreas.splice(d,1)},a.prototype.resolveInitializers=function(a){var b=this.getInitDefersByName(a);b&&b.defers.length&&(b.defers.forEach(function(a){a.resolve()}),b.defers=[])},a.prototype.getLoadingAreaByName=function(a){return this.filterDefersByName(a,this.loadingAreas)},a.prototype.getInitDefersByName=function(a){return this.filterDefersByName(a,this.initAreas)},a.prototype.filterDefersByName=function(a,b){for(var c=0;c<b.length;c++)if(b[c].name===a)return b[c];return null},a}(),d=function(){function b(b){this.loadedAreas=[],this.resourceManager=new a.JasperResourcesManager,this.q=b,this.loadiingModules=new c(this.q)}return b.prototype.configure=function(a){this.config=a},b.prototype.onAreaLoaded=function(a){return this.isAreaLoaded(a)?this.q.when(!0):this.loadAreas(a)},b.prototype.initArea=function(a){return this.loadiingModules.addInitializer(a)},b.prototype.loadAreas=function(a,c){var d=this;if(void 0===c&&(c=0),!this.config)throw"Resources not configure";var e=this.config[a];if(!e)throw"Config with name '"+a+"' not found";if(c++,c>b.maxDependencyHops)throw"Possible cyclic dependencies found on module: "+a;for(var f=[],g=0;g<e.dependencies.length;g++){var h=e.dependencies[g];f.push(this.loadAreas(h,c))}var i=this.q.defer();return this.q.all(f).then(function(){d.isAreaLoaded(a)?i.resolve():d.loadiingModules.isLoading(a)?d.loadiingModules.onAreaLoaded(a).then(function(){return i.resolve()}):(d.loadiingModules.startLoading(a),d.resourceManager.makeAccessible(d.prepareUrls(e.scripts),d.prepareUrls(e.styles),function(){d.loadiingModules.notifyOnLoaded(a),i.resolve()}))}),i.promise},b.prototype.isAreaLoaded=function(a){return this.loadedAreas.indexOf(a)>=0},b.prototype.prepareUrls=function(a){if(!a)return[];for(var b=[],c=0;c<a.length;c++)b.push("/"==a[c].charAt(0)?a[c]:(this.config._rootPath||"")+a[c]);return b},b.$inject=["$q"],b.maxDependencyHops=10,b}();a.JasperAreasService=d}(b=a.areas||(a.areas={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function a(){}return a.prototype.buildScripts=function(b){if(!b||0==b.length)return[];for(var c=[],d=0;d<b.length;d++)this.inArray(a.loadedScriptPaths,b[d])||(a.loadedScriptPaths.push(b[d]),c.push(b[d]));return c},a.prototype.inArray=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},a.prototype.makeAccessible=function(a,b,c){var d=this.buildScripts(a);d.length>0?$script(d,function(){return c()}):c()},a.loadedScriptPaths=[],a}();a.JasperResourcesManager=b}(b=a.areas||(a.areas={}))}(jasper||(jasper={})),angular.module("jasperAreas",["jasperCore"]).service("jasperAreasService",jasper.areas.JasperAreasService).directive("jasperArea",jasper.areas.JasperAreaDirective).config(["jasperComponentProvider",function(){}]);var jasper;!function(a){var b;!function(a){var b=function(){function a(a){this.routeProvider=a}return a.prototype.setup=function(a){var b=this;angular.forEach(a.routes,function(a,c){var d={template:a.template};a.template&&(d.template=a.template),a.templateUrl&&(d.template="<div ng-include=\"'"+a.templateUrl+"'\"></div>"),d.caseInsensitiveMatch=!0,d.reloadOnSearch=angular.isDefined(a.reloadOnSearch)?a.reloadOnSearch:!1,a.redirectTo&&(d.redirectTo=a.redirectTo),a.area&&(d.resolve={_m:["jasperAreasService",function(b){return b.loadAreas(a.area)}]}),d.prerender=a.prerender,b.routeProvider.when(c,d)}),a.defaultRoutePath&&this.routeProvider.otherwise({redirectTo:a.defaultRoutePath})},a.prototype.$get=function(){return this},a.$inject=["$routeProvider"],a}();a.JasperRouteTableProvider=b}(b=a.routing||(a.routing={}))}(jasper||(jasper={})),angular.module("jasperRoutes",["jasperAreas"]).provider("jasperRoute",jasper.routing.JasperRouteTableProvider);var jasper;!function(){angular.module("jasper",["ng","ngRoute","jasperCore","jasperAreas","jasperRoutes"]).config(["jasperComponentProvider","jasperDecoratorProvider","jasperServiceProvider","jasperFilterProvider","jasperValueProvider","$compileProvider",function(a,b,c,d,e,f){window.jsp={component:function(b){return a.register(b)},decorator:function(a){return b.register(a)},service:function(a){return c.register(a)},filter:function(a){return d.register(a)},value:function(a,b){return e.register(a,b)},directive:f.directive}}]).run(["jasperAreasService","$templateCache",function(a,b){window.jsp.areas=a,window.jsp.template=function(a,c){b.put(a,c)}}])}(jasper||(jasper={}));